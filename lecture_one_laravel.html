<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Laravel Auth: Breeze, Sanctum & Permissions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/lecture-auth.css">
</head>

<body>
    <div class="lecture-wrapper">
        <!-- Lecture Header -->
        <header class="lecture-header bg-dark text-white py-5">
            <div class="container">
                <div class="badge-container mb-3">
                    <span class="badge bg-primary me-2">Laravel Advanced</span>
                    <span class="badge bg-secondary me-2"><i class="far fa-clock me-1"></i>90 mins</span>
                    <span class="badge bg-warning text-dark"><i class="fas fa-bolt me-1"></i>Intermediate</span>
                </div>
                <h1 class="display-4 fw-bold">Authentication & Authorization in Laravel</h1>
                <p class="lead mt-3">Build secure applications using Laravel Breeze, Sanctum, and advanced permission
                    systems</p>
                <div class="mt-4">
                    <button id="mark-completed" class="btn btn-outline-light">
                        <i class="far fa-circle me-2"></i>Mark as Completed
                    </button>
                </div>
            </div>
        </header>

        <!-- Lecture Content -->
        <main class="container my-5">
            <!-- Introduction Section -->
            <section class="lecture-section mb-5">
                <h2 class="section-title d-flex align-items-center">
                    <i class="fas fa-door-open me-3"></i>Introduction
                </h2>
                <div class="section-content mt-4">
                    <p class="fw-bold">Why authentication and authorization matter:</p>
                    <p>In this lecture, you'll master Laravel's robust security systems to protect your applications.
                        We'll cover everything from basic authentication setup to advanced permission management used in
                        enterprise applications.</p>

                    <div class="key-concepts bg-light p-4 rounded-3 mt-4">
                        <h5><i class="fas fa-key me-2"></i>Key Concepts You'll Learn:</h5>
                        <ul class="mt-3">
                            <li>Laravel Breeze for rapid authentication scaffolding</li>
                            <li>Sanctum for API token-based authentication</li>
                            <li>Role-based and permission-based access control</li>
                            <li>Route protection and middleware strategies</li>
                            <li>Performance considerations for auth systems</li>
                        </ul>
                    </div>

                    <div class="local-explanation mt-4 p-4 rounded-3">
                        <h5><i class="fas fa-comment-dots me-2"></i>باللهجة المصرية:</h5>
                        <p class="mt-2">الـ Authentication والـ Authorization دول أساس أي نظام آمن. تخيل إن عندك عمارة -
                            الـ Authentication ده زي البوابة الرئيسية اللي بتثبت إنك ساكن في العمارة، والـ Authorization
                            ده زي المفتاح اللي يخليك تدخل الشقة بتاعتك بس مش شقة جارك! في Laravel هنعرف ننفذ النظام ده
                            بطريقة محترفة.</p>
                    </div>
                </div>
            </section>

            <!-- Main Concepts Section -->
            <section class="lecture-section mb-5">
                <h2 class="section-title d-flex align-items-center">
                    <i class="fas fa-cubes me-3"></i>Core Concepts
                </h2>
                <div class="section-content mt-4">
                    <!-- Laravel Breeze -->
                    <div class="concept-card card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h3 class="h5 mb-0"><i class="fas fa-wind me-2"></i>Laravel Breeze</h3>
                        </div>
                        <div class="card-body">
                            <p>Laravel Breeze is a minimal, simple implementation of all Laravel's authentication
                                features, including views and controllers.</p>

                            <div class="code-block bg-dark text-white p-3 rounded-3 mt-3">
                                <pre><code class="language-bash"># Install Breeze
composer require laravel/breeze --dev

# Scaffold authentication
php artisan breeze:install

# Compile frontend assets
npm install && npm run dev

# Run migrations
php artisan migrate</code></pre>
                            </div>

                            <div class="advanced-tip mt-3 p-3 bg-info bg-opacity-10 rounded-3">
                                <h6><i class="fas fa-lightbulb me-2"></i>Pro Tip:</h6>
                                <p>Customize the published views in <code>resources/views/auth</code> to match your
                                    application's design system.</p>
                            </div>

                            <div class="local-explanation mt-3 p-3 rounded-3">
                                <h6><i class="fas fa-comment-dots me-2"></i>باللهجة المصرية:</h6>
                                <p class="mt-2">الـ Breeze ده زي ما يكون عربية جاهزة ماشية من المعرض! بدل ما تبدأ من
                                    الصفر في نظام التسجيل واللوجين، الـ Breeze بيجيبهولك جاهز مع الشكل الأساسي والتستنج.
                                    بس تقدر تزود عليه اللي انت عاوزه بعد كده.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Sanctum Section -->
                    <div class="concept-card card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h3 class="h5 mb-0"><i class="fas fa-shield-alt me-2"></i>Laravel Sanctum</h3>
                        </div>
                        <div class="card-body">
                            <p>Sanctum provides a featherweight authentication system for SPAs, mobile applications, and
                                simple token-based APIs.</p>

                            <div class="code-block bg-dark text-white p-3 rounded-3 mt-3">
                                <pre><code class="language-php">// Authenticating API requests
Route::middleware('auth:sanctum')->get('/user', function (Request $request) {
    return $request->user();
});

// Creating tokens
$token = $user->createToken('api-token', ['server:update'])->plainTextToken;</code></pre>
                            </div>

                            <div class="analogy mt-3 p-3 bg-light rounded-3">
                                <h6><i class="fas fa-brain me-2"></i>Real-life Analogy:</h6>
                                <p class="mt-2">Sanctum tokens work like hotel key cards. Each guest (user) gets a
                                    unique card (token) that grants access to specific rooms (routes) for a limited time
                                    (token expiration).</p>
                            </div>

                            <div class="local-explanation mt-3 p-3 rounded-3">
                                <h6><i class="fas fa-comment-dots me-2"></i>باللهجة المصرية:</h6>
                                <p class="mt-2">الـ Sanctum ده شبه لما تروح النادي ويدوك كارت دخول. الكارت ده بيخليك
                                    تدخل النادي بس مش كل الحمامات أو الأماكن المخصصة للأعضاء الدايمين. الـ API token في
                                    Sanctum نفس الفكرة بالظبط!</p>
                            </div>
                        </div>
                    </div>

                    <!-- Permission System -->
                    <div class="concept-card card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h3 class="h5 mb-0"><i class="fas fa-user-lock me-2"></i>Permission Management</h3>
                        </div>
                        <div class="card-body">
                            <p>Laravel provides two primary ways to authorize actions: gates and policies.</p>

                            <div class="code-block bg-dark text-white p-3 rounded-3 mt-3">
                                <pre><code class="language-php">// Defining a Gate
Gate::define('edit-post', function (User $user, Post $post) {
    return $user->id === $post->user_id;
});

// Creating a Policy
php artisan make:policy PostPolicy --model=Post

// Authorizing in controller
$this->authorize('update', $post);</code></pre>
                            </div>

                            <div class="advanced-tip mt-3 p-3 bg-info bg-opacity-10 rounded-3">
                                <h6><i class="fas fa-lightbulb me-2"></i>Senior Dev Tip:</h6>
                                <p>For complex applications, consider using packages like
                                    <code>spatie/laravel-permission</code> for role/permission management with database
                                    backing.</p>
                            </div>

                            <div class="local-explanation mt-3 p-3 rounded-3">
                                <h6><i class="fas fa-comment-dots me-2"></i>باللهجة المصرية:</h6>
                                <p class="mt-2">الـ Gates والـ Policies دول شبه اللوايح في الشركة. تخيل إنك في شركة فيها
                                    موظفين ومديرين - كل واحد ليه صلاحيات مختلفة. الـ Gate ده زي الحارس اللي بيقول "مين
                                    اللي يقدر يدخل هنا؟" والـ Policy بيكون مجموعة القواعد المكتوبة اللي بتحكم الصلاحيات
                                    دي.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mini Project -->
            <section class="lecture-section mb-5">
                <h2 class="section-title d-flex align-items-center">
                    <i class="fas fa-laptop-code me-3"></i>Mini Project
                </h2>
                <div class="section-content mt-4">
                    <div class="project-card card border-success">
                        <div class="card-header bg-success text-white">
                            <h3 class="h5 mb-0">Blog System with Roles</h3>
                        </div>
                        <div class="card-body">
                            <p>Build a blog system with the following requirements:</p>
                            <ul>
                                <li>Three user roles: Admin, Editor, Subscriber</li>
                                <li>Admins can manage all content and users</li>
                                <li>Editors can create/edit their own posts</li>
                                <li>Subscribers can only view content</li>
                                <li>Implement API access for mobile clients</li>
                            </ul>

                            <div class="mt-3">
                                <button class="btn btn-outline-success" data-bs-toggle="collapse"
                                    data-bs-target="#project-solution">
                                    <i class="fas fa-lightbulb me-2"></i>Show Solution Approach
                                </button>

                                <div id="project-solution" class="collapse mt-3">
                                    <div class="p-3 bg-light rounded-3">
                                        <h6>Implementation Steps:</h6>
                                        <ol>
                                            <li>Install Laravel Breeze for authentication</li>
                                            <li>Add role field to users table (migration)</li>
                                            <li>Create Post model with CRUD operations</li>
                                            <li>Define gates/policies for post access control</li>
                                            <li>Install Sanctum for API authentication</li>
                                            <li>Create API routes with role middleware</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quiz Section -->
            <section class="lecture-section mb-5">
                <h2 class="section-title d-flex align-items-center">
                    <i class="fas fa-question-circle me-3"></i>Knowledge Check
                </h2>
                <div class="section-content mt-4">
                    <div class="quiz-card card">
                        <div class="card-header bg-dark text-white">
                            <h3 class="h5 mb-0">Test Your Understanding</h3>
                        </div>
                        <div class="card-body">
                            <form id="lecture-quiz">
                                <!-- Question 1 -->
                                <div class="quiz-question mb-4">
                                    <p class="fw-bold">1. What's the main purpose of Laravel Sanctum?</p>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q1" id="q1a" value="a">
                                        <label class="form-check-label" for="q1a">To provide a full-stack authentication
                                            system with views</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q1" id="q1b" value="b">
                                        <label class="form-check-label" for="q1b">To handle API token authentication for
                                            SPAs and mobile apps</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q1" id="q1c" value="c">
                                        <label class="form-check-label" for="q1c">To manage database migrations</label>
                                    </div>
                                </div>

                                <!-- Question 2 -->
                                <div class="quiz-question mb-4">
                                    <p class="fw-bold">2. Where would you customize the login view when using Laravel
                                        Breeze?</p>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q2" id="q2a" value="a">
                                        <label class="form-check-label" for="q2a">In the vendor directory</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
                                        <label class="form-check-label" for="q2b">In resources/views/auth</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
                                        <label class="form-check-label" for="q2c">In the config/auth.php file</label>
                                    </div>
                                </div>

                                <!-- Question 3 -->
                                <div class="quiz-question mb-4">
                                    <p class="fw-bold">3. What's the difference between a Gate and a Policy in Laravel?
                                    </p>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q3" id="q3a" value="a">
                                        <label class="form-check-label" for="q3a">Gates are for simple checks, Policies
                                            organize logic around a model</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q3" id="q3b" value="b">
                                        <label class="form-check-label" for="q3b">Policies are deprecated in favor of
                                            Gates</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q3" id="q3c" value="c">
                                        <label class="form-check-label" for="q3c">There is no difference</label>
                                    </div>
                                </div>

                                <!-- Question 4 -->
                                <div class="quiz-question mb-4">
                                    <p class="fw-bold">4. How would you protect a route to only allow authenticated
                                        users?</p>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q4" id="q4a" value="a">
                                        <label class="form-check-label" for="q4a">Route::get('/profile',
                                            [ProfileController::class, 'show'])->middleware('auth');</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q4" id="q4b" value="b">
                                        <label class="form-check-label" for="q4b">Route::get('/profile',
                                            [ProfileController::class, 'show'])->middleware('admin');</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="q4" id="q4c" value="c">
                                        <label class="form-check-label" for="q4c">Route::get('/profile',
                                            [ProfileController::class, 'show'])->middleware('guest');</label>
                                    </div>
                                </div>

                                <button type="submit" class="btn btn-primary mt-3">
                                    <i class="fas fa-check-circle me-2"></i>Submit Answers
                                </button>
                            </form>

                            <div id="quiz-results" class="mt-4 p-3 rounded-3 d-none">
                                <h5 class="mb-3">Your Results:</h5>
                                <div class="progress mb-3" style="height: 25px;">
                                    <div id="quiz-progress" class="progress-bar" role="progressbar" style="width: 0%">
                                    </div>
                                </div>
                                <p id="quiz-score" class="fw-bold"></p>
                                <p id="quiz-feedback"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-dark text-white py-4 mt-5">
            <div class="container text-center">
                <p class="mb-0">Part of the <strong>Laravel Advanced Track</strong> in the Backend Developer Roadmap</p>
                <p class="mt-2 text-muted">© 2023 Professional Developer Portfolio</p>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/lecture-auth.js"></script>
</body>

</html>